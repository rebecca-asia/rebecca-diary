# MVP System Architecture â€” ç¾çŠ¶ã®ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

> *Phase 0 å®Œäº†çŠ¶æ…‹ (2026-02-12 æ™‚ç‚¹) ã®å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ­£ç¢ºã«è¨˜éŒ²ã™ã‚‹*

---

## 1. System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Mac mini (M2, 16GB)                         â”‚
â”‚                        macOS / GMT+7                                â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚        Data Sources (Input)           â”‚                          â”‚
â”‚  â”‚                                       â”‚                          â”‚
â”‚  â”‚  ~/.openclaw/workspace/memory/        â”‚  â† OpenClaw Gateway ãŒ   â”‚
â”‚  â”‚    â”œâ”€â”€ 2026-02-06.md                  â”‚    æ—¥æ¬¡ã§è‡ªå‹•ç”Ÿæˆ         â”‚
â”‚  â”‚    â”œâ”€â”€ 2026-02-07.md                  â”‚                          â”‚
â”‚  â”‚    â”œâ”€â”€ ...                            â”‚                          â”‚
â”‚  â”‚    â””â”€â”€ 2026-02-12.md (7 files)        â”‚                          â”‚
â”‚  â”‚                                       â”‚                          â”‚
â”‚  â”‚  ~/Documents/Obsidian Vault/          â”‚  â† Obsidian ã‚¢ãƒ—ãƒª or    â”‚
â”‚  â”‚    â”œâ”€â”€ 2026-02-09.md                  â”‚    Rebecca ãŒæ‰‹å‹•ä½œæˆ     â”‚
â”‚  â”‚    â”œâ”€â”€ 2026-02-10.md                  â”‚                          â”‚
â”‚  â”‚    â”œâ”€â”€ 2026-02-11.md                  â”‚                          â”‚
â”‚  â”‚    â””â”€â”€ 2026-02-12.md (4 files)        â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                â”‚                                                     â”‚
â”‚                â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚        Build Pipeline (SSG)           â”‚                          â”‚
â”‚  â”‚                                       â”‚                          â”‚
â”‚  â”‚  update_diary.py                      â”‚  â† å…¨æ—¥ä»˜ã‚¹ã‚­ãƒ£ãƒ³ â†’      â”‚
â”‚  â”‚    â”œâ”€â”€ scan_dates()                   â”‚    ãƒãƒ¼ã‚¸ â†’ å…¨ä»¶ãƒ“ãƒ«ãƒ‰    â”‚
â”‚  â”‚    â”œâ”€â”€ MarkdownConverter.convert()    â”‚                          â”‚
â”‚  â”‚    â”œâ”€â”€ DiaryEntry.to_html()           â”‚                          â”‚
â”‚  â”‚    â””â”€â”€ DiaryEntry.to_card_html()      â”‚                          â”‚
â”‚  â”‚              â”‚                        â”‚                          â”‚
â”‚  â”‚    template.html (40è¡Œ)               â”‚  â† éª¨æ ¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ      â”‚
â”‚  â”‚              â”‚                        â”‚                          â”‚
â”‚  â”‚              â–¼                        â”‚                          â”‚
â”‚  â”‚    src/index.html (532è¡Œ, 28KB)       â”‚  â† å®Œæˆã—ãŸé™çš„HTML      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚        Static Website (Output)        â”‚                          â”‚
â”‚  â”‚             â”‚                         â”‚                          â”‚
â”‚  â”‚  src/       â”‚                         â”‚                          â”‚
â”‚  â”‚  â”œâ”€â”€ index.html â—„â”€ ç”Ÿæˆæ¸ˆã¿HTML       â”‚                          â”‚
â”‚  â”‚  â”œâ”€â”€ style.css  (554è¡Œ, 16KB)         â”‚                          â”‚
â”‚  â”‚  â”œâ”€â”€ app.js     (60è¡Œ)                â”‚                          â”‚
â”‚  â”‚  â”œâ”€â”€ template.html (40è¡Œ)             â”‚                          â”‚
â”‚  â”‚  â””â”€â”€ assets/rebecca/ (17MB, 30files)  â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                â”‚                                                     â”‚
â”‚                â–¼                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚        Dev Server                     â”‚                          â”‚
â”‚  â”‚  python3 -m http.server 8080          â”‚                          â”‚
â”‚  â”‚  http://localhost:8080                â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚        Watchdog (åœæ­¢ä¸­)              â”‚                          â”‚
â”‚  â”‚  watch_diary.py                       â”‚  â† watchdog ãƒ©ã‚¤ãƒ–ãƒ©ãƒª   â”‚
â”‚  â”‚  â€» ç¾åœ¨ãƒ—ãƒ­ã‚»ã‚¹æœªèµ·å‹•                  â”‚    .mdå¤‰æ›´æ¤œçŸ¥â†’rebuild   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚        Cron (æœªè¨­å®š)                  â”‚                          â”‚
â”‚  â”‚  â€» crontab ç©º                         â”‚  â† è¨ˆç”»ã§ã¯ 23:55 ã«     â”‚
â”‚  â”‚                                       â”‚    update_diary.py å®Ÿè¡Œ   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. File Inventory

### 2.1 Source Files

| File | Lines | Size | Role |
|------|------:|-----:|------|
| `src/index.html` | 532 | 28KB | ç”Ÿæˆæ¸ˆã¿ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã€‚6æ—¥åˆ†ã®æ—¥è¨˜ã‚¨ãƒ³ãƒˆãƒªå«ã‚€ |
| `src/style.css` | 554 | 16KB | å…¨ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ã€‚CSS Custom Propertiesã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ |
| `src/app.js` | 60 | â€” | ãƒã‚¹ã‚³ãƒƒãƒˆã‚¯ãƒªãƒƒã‚¯ã€æ·±å¤œãƒˆãƒ¼ã‚¹ãƒˆã€ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« |
| `src/template.html` | 40 | â€” | SSGãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼2ç®‡æ‰€ |

### 2.2 Build Scripts

| File | Lines | Role | å¤–éƒ¨ä¾å­˜ |
|------|------:|------|---------|
| `update_diary.py` | 485 | SSGã‚³ã‚¢ã€‚Markdownèª­è¾¼â†’HTMLå¤‰æ›â†’ã‚µã‚¤ãƒˆå…¨ä»¶ãƒ“ãƒ«ãƒ‰ | ãªã— (Pythonæ¨™æº–ã®ã¿) |
| `watch_diary.py` | 67 | ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ç›£è¦–â†’è‡ªå‹•ãƒªãƒ“ãƒ«ãƒ‰ | `watchdog` (pip) |

### 2.3 Assets

| Category | Count | Total Size | Used in |
|----------|------:|----------:|---------|
| è¡¨æƒ…å·®åˆ† PNG (ãƒ¬ãƒ™ãƒƒã‚«_*.png) | 18 | ~8.5MB | app.js (9æšã‚’ã‚µã‚¤ã‚¯ãƒ«), hero avatar, entry avatar, hero bg |
| å‚è€ƒç”»åƒ JPEG | 9 | ~550KB | æœªä½¿ç”¨ï¼ˆãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ç´ æï¼‰ |
| ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ GIF | 1 | 8.2MB | æœªä½¿ç”¨ (artstation_lastdance.gif) |
| Sticker WEBP | 1 | 107KB | æœªä½¿ç”¨ (æ—§ãƒã‚¹ã‚³ãƒƒãƒˆ) |

---

## 3. Data Flow Detail

### 3.1 SSG Pipeline (`update_diary.py`)

```
Step 1: scan_dates()
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  memory/ ã® *.md ãƒ•ã‚¡ã‚¤ãƒ«å      â†’ set of dates
  Obsidian Vault/ ã® *.md ãƒ•ã‚¡ã‚¤ãƒ«å â†’ set of dates
  union â†’ sort(reverse=True)

  çµæœ: ['2026-02-12', '2026-02-11', ..., '2026-02-07']
        (2026-02-06 ã¯ memory ã«ã®ã¿å­˜åœ¨ã™ã‚‹ãŒ Obsidian ã«ã‚‚ã‚ã‚Œã°ãƒãƒ¼ã‚¸)

Step 2: build_entry() Ã— N dates
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  å„æ—¥ä»˜ã«ã¤ã„ã¦:
    memory/{date}.md â†’ read â†’ MarkdownConverter.convert() â†’ section-memory HTML
    Obsidian/{date}.md â†’ read â†’ MarkdownConverter.convert() â†’ section-obsidian HTML
    â†’ DiaryEntry(date, [section_memory, section_obsidian])
    â†’ entry.to_html()      â†’ <article> å…¨æ–‡HTML
    â†’ entry.to_card_html() â†’ <a class="diary-card"> ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼HTML

Step 3: Template Substitution
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  template.html ã‚’èª­ã¿è¾¼ã¿:
    <!-- DIARY_CARDS_PLACEHOLDER -->   â†’ cards HTML ã§ç½®æ›
    <!-- DIARY_ENTRIES_PLACEHOLDER --> â†’ entries HTML ã§ç½®æ›
  â†’ src/index.html ã«æ›¸ãå‡ºã—
```

### 3.2 MarkdownConverter å¯¾å¿œç¯„å›²

| Markdown | HTML | å‚™è€ƒ |
|----------|------|------|
| `# Heading` | (ã‚¹ã‚­ãƒƒãƒ—) | ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«è¦‹å‡ºã—ã¯ç„¡è¦– |
| `## Heading` | `<h3>` | +1ãƒ¬ãƒ™ãƒ«ã§å‡ºåŠ› |
| `### Heading` | `<h4>` | |
| `#### Heading` | `<h5>` | |
| `- item` | `<ul><li>` | ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆç¶™ç¶šè¡Œå¯¾å¿œ |
| `1. item` | `<ol><li>` | ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆç¶™ç¶šè¡Œå¯¾å¿œ |
| `\| col \| col \|` | `<table class="diary-table">` | å…ˆé ­è¡Œã‚’ `<thead>` |
| `**bold**` | `<strong>` | |
| `*italic*` | `<em>` | |
| `` `code` `` | `<code>` | |
| `[text](url)` | `<a href="url">` | |

**æœªå¯¾å¿œ:**
- ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ (` ``` `)
- ç”»åƒ (`![alt](src)`)
- ãƒ–ãƒ­ãƒƒã‚¯å¼•ç”¨ (`>`)
- æ°´å¹³ç·š (`---`) â†’ `<p>---</p>` ã«ãªã‚‹
- ãƒã‚¹ãƒˆãƒªã‚¹ãƒˆ

### 3.3 Card Preview æŠ½å‡ºãƒ­ã‚¸ãƒƒã‚¯

```
extract_preview(markdown, max_length=120):
  1. å„è¡Œã‚’ã‚¹ã‚­ãƒ£ãƒ³
  2. ç©ºè¡Œã€è¦‹å‡ºã—(#)ã€æ°´å¹³ç·š(---)ã‚’ã‚¹ã‚­ãƒƒãƒ—
  3. æœ€åˆã®ã€Œæ„å‘³ã®ã‚ã‚‹è¡Œã€ã‚’å–å¾—
  4. ãƒªã‚¹ãƒˆãƒ—ãƒ¬ãƒ•ã‚£ã‚¯ã‚¹(-ã€1.)ã‚’é™¤å»
  5. Markdownæ›¸å¼(**ã€*ã€`ã€[])ã‚’é™¤å»
  6. 120æ–‡å­—ã§åˆ‡ã‚Šæ¨ã¦ + "..."
```

---

## 4. Frontend Architecture

### 4.1 Page Structure

```
<body>
â”œâ”€â”€ <header class="hero" id="top">
â”‚   â”œâ”€â”€ <img class="hero-bg-img">         â† èºå‹•èƒ¸åƒ (768px+ ã§è¡¨ç¤º, opacity 6-7%)
â”‚   â””â”€â”€ <div class="hero-content">
â”‚       â”œâ”€â”€ <img class="hero-avatar" id="mascot">  â† ã‚¯ãƒªãƒƒã‚¯ã§è¡¨æƒ…å¤‰åŒ–
â”‚       â”œâ”€â”€ <h1>Rebecca's Diary</h1>
â”‚       â””â”€â”€ <p class="hero-sub">// digital thoughts & experiments</p>
â”‚
â”œâ”€â”€ <main class="main-content">          â† max-width: 960px
â”‚   â”œâ”€â”€ <div class="diary-grid">          â† CSS Grid (1/2/3åˆ—)
â”‚   â”‚   â”œâ”€â”€ <a class="diary-card" href="#diary-YYYY-MM-DD">  Ã— 6
â”‚   â”‚   â”‚   â”œâ”€â”€ .card-date    (ğŸ“… YYYY-MM-DD)
â”‚   â”‚   â”‚   â”œâ”€â”€ .card-preview (å…ˆé ­è¡Œã®ã‚µãƒãƒªãƒ¼)
â”‚   â”‚   â”‚   â””â”€â”€ .card-sources (ğŸ§  ğŸ“)
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ <article class="diary-entry" id="diary-YYYY-MM-DD">  Ã— 6
â”‚       â”œâ”€â”€ <a class="back-link" href="#top">â† Back to list</a>
â”‚       â”œâ”€â”€ <div class="entry-header">
â”‚       â”‚   â”œâ”€â”€ <img class="entry-avatar">
â”‚       â”‚   â””â”€â”€ <div class="entry-date">
â”‚       â””â”€â”€ <div class="entry-content">
â”‚           â”œâ”€â”€ <div class="section-memory">   â† å·¦ãƒœãƒ¼ãƒ€ãƒ¼: mint
â”‚           â”‚   â””â”€â”€ (å¤‰æ›æ¸ˆã¿HTML)
â”‚           â””â”€â”€ <div class="section-obsidian">  â† å·¦ãƒœãƒ¼ãƒ€ãƒ¼: accent
â”‚               â””â”€â”€ (å¤‰æ›æ¸ˆã¿HTML)
â”‚
â”œâ”€â”€ <footer class="site-footer">
â”‚
â”œâ”€â”€ <div class="toast" id="lateNightToast" hidden>  â† æ·±å¤œã‚¤ãƒ¼ã‚¹ã‚¿ãƒ¼ã‚¨ãƒƒã‚°
â”‚
â””â”€â”€ <script src="app.js">
```

### 4.2 Navigation Model (CSS :target)

```
State 1: Default (no hash / #top)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  .diary-grid        â†’ display: grid     â† ã‚«ãƒ¼ãƒ‰ä¸€è¦§è¡¨ç¤º
  .diary-entry       â†’ display: none     â† å…¨ã‚¨ãƒ³ãƒˆãƒªéè¡¨ç¤º

State 2: Entry Selected (#diary-YYYY-MM-DD)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  .diary-entry:target â†’ display: block   â† é¸æŠã‚¨ãƒ³ãƒˆãƒªã®ã¿è¡¨ç¤º
  main:has(.diary-entry:target) .diary-grid â†’ display: none  â† ã‚°ãƒªãƒƒãƒ‰éè¡¨ç¤º
  animation: fadeIn 0.35s ease-out       â† ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

Transition:
  Card click â†’ #diary-YYYY-MM-DD â†’ :target ç™ºå‹• â†’ entry è¡¨ç¤º + grid éè¡¨ç¤º
  Back link  â†’ #top              â†’ :target è§£é™¤ â†’ grid å†è¡¨ç¤º
  window.hashchange â†’ scrollTo(top, smooth)
```

### 4.3 CSS Design System (å®Ÿè£…å€¤)

**æ³¨æ„:** `style.css` ã®å®Ÿè£…å€¤ã¨ `design/RULES.md` ã®å®šç¾©å€¤ã«å·®ç•°ã‚ã‚Šã€‚

| Variable | style.css (å®Ÿè£…) | design/RULES.md (å®šç¾©) | å·®ç•° |
|----------|-----------------|----------------------|------|
| `--bg` | `#0c0c10` | `#151519` | **ç•°ãªã‚‹** |
| `--surface` | `#141418` | `#1c1c22` | **ç•°ãªã‚‹** |
| `--surface-hover` | `#1a1a20` | `#222229` | **ç•°ãªã‚‹** |
| `--accent` | `#e85a87` | `#c87088` | **ç•°ãªã‚‹** |
| `--accent-dim` | `rgba(232,90,135,0.4)` | `#8a4f5e` | **å½¢å¼ãŒç•°ãªã‚‹** |
| `--text` | `#c8ccd4` | `#bfc3ca` | **ç•°ãªã‚‹** |
| `--text-secondary` | `#73767e` | `#73767e` | ä¸€è‡´ |
| `--text-muted` | `#3e3e48` | `#4a4c54` | **ç•°ãªã‚‹** |
| `--border` | `#1e1e28` | `#28282f` | **ç•°ãªã‚‹** |

**è¿½åŠ å¤‰æ•° (style.css ã®ã¿):**

| Variable | Value | Purpose |
|----------|-------|---------|
| `--accent-glow` | `rgba(232,90,135,0.15)` | ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚°ãƒ­ãƒ¼ |
| `--accent-subtle` | `rgba(232,90,135,0.06)` | ã‚»ã‚¯ã‚·ãƒ§ãƒ³èƒŒæ™¯ (obsidian) |
| `--mint` | `#7ecdb8` | ãƒŸãƒ³ãƒˆã‚°ãƒªãƒ¼ãƒ³ (memory ã‚»ã‚¯ã‚·ãƒ§ãƒ³) |
| `--mint-dim` | `rgba(126,205,184,0.4)` | ãƒŸãƒ³ãƒˆè–„ã‚ |
| `--mint-glow` | `rgba(126,205,184,0.15)` | ãƒŸãƒ³ãƒˆã‚°ãƒ­ãƒ¼ |
| `--mint-subtle` | `rgba(126,205,184,0.06)` | ã‚»ã‚¯ã‚·ãƒ§ãƒ³èƒŒæ™¯ (memory) |
| `--border-hover` | `#2a2a38` | ãƒ›ãƒãƒ¼æ™‚ãƒœãƒ¼ãƒ€ãƒ¼ |

### 4.4 Responsive Breakpoints

| Breakpoint | Grid | Hero Avatar | Hero BG Image |
|-----------|------|-------------|---------------|
| < 768px | 1åˆ— | 88px | éè¡¨ç¤º |
| 768px+ | 2åˆ— | 100px | è¡¨ç¤º (right 5%, h300px, opacity 6%) |
| 1024px+ | 3åˆ— | â€” | right 8%, h340px, opacity 7% |

### 4.5 Animations

| Name | Trigger | Duration | Effect |
|------|---------|----------|--------|
| `avatarGlow` | å¸¸æ™‚ (hero-avatar) | 3s infinite alternate | box-shadow å¾®å¦™ãªæ˜æ»… |
| `fadeIn` | :target (entryè¡¨ç¤ºæ™‚) | 0.35s ease-out | opacity 0â†’1 + translateY 8â†’0 |
| `slightBounce` | JS (mascot click) | 0.3s ease | scale + rotate è·³ã­ |
| `slideUp` | Toast è¡¨ç¤ºæ™‚ | 0.4s ease-out | opacity + translateY |
| hover: card | ãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼ | 0.15s | translateY(-2px) + glow shadow |
| hover: avatar | ãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼ | 0.15s | scale(1.08) |
| active: card | ã‚¯ãƒªãƒƒã‚¯ | 0.05s | scale(0.98) â€” ã€Œè¡æ’ƒæ„Ÿã€ |
| active: avatar | ã‚¯ãƒªãƒƒã‚¯ | â€” | scale(0.92) |

---

## 5. JavaScript (app.js)

**60è¡Œã€IIFEã€3ã¤ã®æ©Ÿèƒ½:**

### 5.1 Mascot Expression Cycler

```
Click mascot â†’ clickCount++ â†’ expressions[clickCount % 9] â†’ img.src å·®ã—æ›¿ãˆ
                                                          â†’ bounce animation

ä½¿ç”¨ç”»åƒ (9æš):
  1. ãƒ¬ãƒ™ãƒƒã‚«_é¡”çµµãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«.png  (èµ·ç‚¹)
  2. ãƒ¬ãƒ™ãƒƒã‚«_ã‚¦ã‚£ãƒ³ã‚¯.png
  3. ãƒ¬ãƒ™ãƒƒã‚«_å¾®ç¬‘.png
  4. ãƒ¬ãƒ™ãƒƒã‚«_è¦‹ä¸‹ã—.png
  5. ãƒ¬ãƒ™ãƒƒã‚«_ã™ã­é¡”.png
  6. ãƒ¬ãƒ™ãƒƒã‚«_ã‚¬ãƒƒãƒ„ãƒãƒ¼ã‚º.png
  7. ãƒ¬ãƒ™ãƒƒã‚«_coffee.png
  8. ãƒ¬ãƒ™ãƒƒã‚«_å‘†ã‚Œé¡”.png
  9. ãƒ¬ãƒ™ãƒƒã‚«_ã‚³ãƒŸã‚«ãƒ«ä¸­æŒ‡.png

åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã«å…¨9æšã‚’ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰ã€‚
```

### 5.2 Late Night Easter Egg

```
if (hour >= 2 && hour < 5):
  2ç§’å¾Œã« #lateNightToast ã‚’è¡¨ç¤º
  ã€Œã¾ã èµ·ãã¦ã‚“ã®ã‹ï¼Ÿã€+ ãƒ¬ãƒ™ãƒƒã‚«_coffee.png
  Ã—ãƒœã‚¿ãƒ³ã§é–‰ã˜ã‚‹
```

### 5.3 Smooth Scroll on Navigation

```
hashchange ã‚¤ãƒ™ãƒ³ãƒˆ â†’ window.scrollTo({ top: 0, behavior: 'smooth' })
  ã‚¨ãƒ³ãƒˆãƒªâ†’ã‚¨ãƒ³ãƒˆãƒªã®é·ç§»æ™‚ã«ãƒˆãƒƒãƒ—ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
```

---

## 6. Watchdog System (`watch_diary.py`)

### ç¾çŠ¶

```
Status: åœæ­¢ä¸­ï¼ˆãƒ—ãƒ­ã‚»ã‚¹æœªèµ·å‹•ï¼‰
ä¾å­˜: watchdog ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (pip install watchdog)
```

### è¨­è¨ˆ

```
ç›£è¦–å¯¾è±¡:
  1. ~/.openclaw/workspace/memory/     (OpenClaw)
  2. ~/Documents/Obsidian Vault/       (Obsidian)

ãƒˆãƒªã‚¬ãƒ¼:
  .md ãƒ•ã‚¡ã‚¤ãƒ«ã® modified / created ã‚¤ãƒ™ãƒ³ãƒˆ

ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:
  subprocess.run([python3, update_diary.py])
  â†’ å…¨æ—¥ä»˜ã‚’å†ã‚¹ã‚­ãƒ£ãƒ³ â†’ ã‚µã‚¤ãƒˆå…¨ä»¶ãƒªãƒ“ãƒ«ãƒ‰
```

### Cron

```
Status: æœªè¨­å®š (crontab ç©º)
è¨ˆç”»: 23:55 ã«æ—¥æ¬¡å®Ÿè¡Œï¼ˆæ—¥è¨˜ã®æ—¥ä»˜åˆ‡ã‚Šæ›¿ã‚ã‚Šå‰ï¼‰
```

---

## 7. Content Status

### æ—¥è¨˜ã‚¨ãƒ³ãƒˆãƒª (6ä»¶)

| Date | Memory | Obsidian | Content Summary |
|------|:------:|:--------:|-----------------|
| 2026-02-12 | â€” | âœ… | Asana ã‚¿ã‚¹ã‚¯ç¢ºèªã€J-FOOD HUB |
| 2026-02-11 | âœ… | âœ… | **APIæ¯æ¸‡ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã€Ghostç†è«–ç¢ºç«‹** |
| 2026-02-10 | âœ… | âœ… | KDD/VHPã€GitHubã€watch_diary.py |
| 2026-02-09 | âœ… | âœ… | Claude Code ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€J-FOOD HUB |
| 2026-02-08 | âœ… | â€” | ã€Œç”Ÿã¾ã‚ŒãŸæ—¥ã€ |
| 2026-02-07 | âœ… | â€” | åå‰æ±ºå®šã€ŒRebeccaã€ã€ãƒšãƒ«ã‚½ãƒŠè¨­å®š |

**Note:** `memory/2026-02-06.md` ã¯å­˜åœ¨ã™ã‚‹ãŒã€index.html ã«ã¯ã‚¨ãƒ³ãƒˆãƒªãŒãªã„ï¼ˆæ—¥è¨˜ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒãªã‹ã£ãŸå¯èƒ½æ€§ï¼‰ã€‚

---

## 8. Deployment Status

| Item | Status |
|------|--------|
| ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | **ãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿** (python3 -m http.server 8080) |
| ãƒ‰ãƒ¡ã‚¤ãƒ³ | ãªã— |
| SSL/TLS | ãªã— |
| CI/CD | ãªã— |
| Git ãƒªãƒ¢ãƒ¼ãƒˆ | ãªã— (ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã®ã¿ã€remote æœªè¨­å®š) |
| æœ¬ç•ªå…¬é–‹ | æœªå®Ÿæ–½ |

---

## 9. Known Issues & Gaps

### 9.1 ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆä¸æ•´åˆ

`style.css` ã®å®Ÿè£…å€¤ã¨ `design/RULES.md` ã®å®šç¾©å€¤ãŒä¹–é›¢ã—ã¦ã„ã‚‹ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³4.3å‚ç…§ï¼‰ã€‚ã©ã¡ã‚‰ã‚’æ­£ã¨ã™ã‚‹ã‹ã€çµ±ä¸€ãŒå¿…è¦ã€‚

### 9.2 æœªä½¿ç”¨ã‚¢ã‚»ãƒƒãƒˆ

`assets/rebecca/` ã«å‚è€ƒç”»åƒ JPEG (9æš, 550KB) ã¨ GIF (8.2MB) ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã€‚å®Ÿè£…ã§ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€æ•´ç†å€™è£œã€‚

### 9.3 Watchdog æœªç¨¼åƒ

`watch_diary.py` ã¯ã‚³ãƒ¼ãƒ‰ã¨ã—ã¦å­˜åœ¨ã™ã‚‹ãŒã€ãƒ—ãƒ­ã‚»ã‚¹ãŒèµ·å‹•ã—ã¦ã„ãªã„ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ãŒæ©Ÿèƒ½ã—ã¦ã„ãªã„ã€‚

### 9.4 Cron æœªè¨­å®š

æ—¥æ¬¡ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ›´æ–°ï¼ˆ23:55ï¼‰ãŒè¨ˆç”»ã•ã‚Œã¦ã„ãŸãŒã€crontab ãŒç©ºã€‚

### 9.5 æ°´å¹³ç·šã®å¤‰æ›

Markdown ã® `---` ãŒ `<p>---</p>` ã¨ã—ã¦ãã®ã¾ã¾å‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ï¼ˆindex.html L136, L186 ç­‰ã§ç¢ºèªå¯èƒ½ï¼‰ã€‚

### 9.6 Git Remote æœªè¨­å®š

ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã®ã¿ã§ã€GitHub ç­‰ã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ãŒè¡Œã‚ã‚Œã¦ã„ãªã„ã€‚

---

## 10. Technology Summary

| Category | Technology | Version/Detail |
|----------|-----------|----------------|
| Runtime | macOS (Darwin 24.6.0) | Mac mini M2, 16GB |
| Language (Frontend) | HTML5 + CSS3 + Vanilla JS | ã‚¼ãƒ­ä¾å­˜ |
| Language (Build) | Python 3 | æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿ (update_diary.py) |
| External Dep | `watchdog` (pip) | watch_diary.py ã®ã¿ |
| CSS Methodology | Custom Properties + BEM-like | :root å¤‰æ•° 14å€‹ |
| CSS Layout | CSS Grid (cards) + Display Toggle (:target) | ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–3æ®µéš |
| Dev Server | `python3 -m http.server` | Port 8080 |
| Data Format | Markdown (YYYY-MM-DD.md) | 2ã‚½ãƒ¼ã‚¹çµ±åˆ |
| Build Output | å˜ä¸€ HTML (index.html) | å…¨ã‚¨ãƒ³ãƒˆãƒªå«ã‚€ |
| VCS | Git | ãƒ­ãƒ¼ã‚«ãƒ«ã®ã¿ã€remote ãªã— |

---

## 11. Phase 1 Additions (2026-02-13)

> *Phase 1ã€ŒRebecca's Roomã€å®Ÿè£…å®Œäº†ã«ä¼´ã„è¿½åŠ ã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¨˜éŒ²ã™ã‚‹*

### 11.1 New Files

| File | Lines | Role | å¤–éƒ¨ä¾å­˜ |
|------|------:|------|---------|
| `collectors/collect_health.py` | â€” | Mac mini ãƒ˜ãƒ«ã‚¹ãƒ‡ãƒ¼ã‚¿åé›†ï¼ˆCPU, ãƒ¡ãƒ¢ãƒª, ãƒ‡ã‚£ã‚¹ã‚¯, ãƒãƒƒãƒ†ãƒªãƒ¼ç­‰ï¼‰ | `psutil` (pip) |
| `collectors/collect_status.py` | â€” | åœ¨å®¤çŠ¶æ³åˆ¤å®šï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ãƒ—ãƒ­ã‚»ã‚¹ãƒ»å…¥åŠ›ãƒ‡ãƒã‚¤ã‚¹ã®æ´»å‹•çŠ¶æ…‹ã‹ã‚‰æ¨å®šï¼‰ | ãªã— (Pythonæ¨™æº–ã®ã¿) |

### 11.2 New Data Files

| File | Format | Generated By | Purpose |
|------|--------|-------------|---------|
| `src/data/health.json` | JSON | `collect_health.py` | Mac mini ã®ãƒ˜ãƒ«ã‚¹æƒ…å ±ï¼ˆCPUä½¿ç”¨ç‡ã€ãƒ¡ãƒ¢ãƒªã€ãƒ‡ã‚£ã‚¹ã‚¯ã€æ¸©åº¦ç­‰ï¼‰ |
| `src/data/status.json` | JSON | `collect_status.py` | Rebeccaã®åœ¨å®¤çŠ¶æ³ï¼ˆonline/away/sleeping ç­‰ï¼‰ |

ä¸¡ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã‚‚ `.gitignore` å¯¾è±¡ã€‚cron ã«ã‚ˆã‚Šå®šæœŸçš„ã«è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã€‚

### 11.3 New UI Components

| Component | Location | Description |
|-----------|----------|-------------|
| Room Status Bar | `src/index.html` (header area) | åœ¨å®¤çŠ¶æ³ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ + ãƒ†ã‚­ã‚¹ãƒˆï¼‰ |
| Health Dashboard | `src/index.html` (main content) | Mac mini ã®ãƒ˜ãƒ«ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’å¯è¦–åŒ–ï¼ˆCPU, ãƒ¡ãƒ¢ãƒª, ãƒ‡ã‚£ã‚¹ã‚¯ç­‰ï¼‰ |
| Alert Display | `src/index.html` | é–¾å€¤è¶…éæ™‚ã®ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºï¼ˆæ®µéšçš„ã‚¢ãƒ©ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ï¼‰ |

### 11.4 New Cron Jobs

| Schedule | Command | Purpose |
|----------|---------|---------|
| æ¯5åˆ† (`*/5 * * * *`) | `python3 collectors/collect_health.py` | ãƒ˜ãƒ«ã‚¹ãƒ‡ãƒ¼ã‚¿å®šæœŸåé›† |
| æ¯1åˆ† (`* * * * *`) | `python3 collectors/collect_status.py` | åœ¨å®¤çŠ¶æ³ã®å®šæœŸåˆ¤å®š |

ç¢ºèªã‚³ãƒãƒ³ãƒ‰: `crontab -l`

### 11.5 Architecture Changes

**app.js ã®æ‹¡å¼µ:**

Phase 0 ã§ã¯ app.js ã¯é™çš„ãª UI ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆãƒã‚¹ã‚³ãƒƒãƒˆã‚¯ãƒªãƒƒã‚¯ã€æ·±å¤œãƒˆãƒ¼ã‚¹ãƒˆã€ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰ã®ã¿ã ã£ãŸãŒã€Phase 1 ã§ä»¥ä¸‹ãŒè¿½åŠ ã•ã‚ŒãŸ:

- `src/data/health.json` ã‚’ `fetch()` ã§å‹•çš„ã«å–å¾—ã—ã€Health Dashboard ã‚’æ›´æ–°
- `src/data/status.json` ã‚’ `fetch()` ã§å‹•çš„ã«å–å¾—ã—ã€Room Status Bar ã‚’æ›´æ–°
- å®šæœŸçš„ãªå†å–å¾—ï¼ˆãƒãƒ¼ãƒªãƒ³ã‚°ï¼‰ã«ã‚ˆã‚‹æº–ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
- é–¾å€¤ã«åŸºã¥ãã‚¢ãƒ©ãƒ¼ãƒˆåˆ¤å®šãƒ»è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯

```
Phase 0:  Static HTML â† SSG build (update_diary.py)
Phase 1:  Static HTML â† SSG build
          + Dynamic JSON â† Collectors (cron) â† fetch() in app.js
```

**ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆPhase 1 è¿½åŠ åˆ†ï¼‰:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cron (æ¯1-5åˆ†)                          â”‚
â”‚  â”œâ”€â”€ collect_health.py â†’ health.json    â”‚
â”‚  â””â”€â”€ collect_status.py â†’ status.json    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  src/data/                               â”‚
â”‚  â”œâ”€â”€ health.json   (5åˆ†æ¯ã«æ›´æ–°)         â”‚
â”‚  â””â”€â”€ status.json   (1åˆ†æ¯ã«æ›´æ–°)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  app.js (fetch + polling)               â”‚
â”‚  â”œâ”€â”€ Room Status Bar æ›´æ–°               â”‚
â”‚  â”œâ”€â”€ Health Dashboard æ›´æ–°              â”‚
â”‚  â””â”€â”€ Alert åˆ¤å®šãƒ»è¡¨ç¤º                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*Created: 2026-02-12*
*Updated: 2026-02-13 â€” Phase 1 Additions ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ *
*MVP = Phase 0 å®Œäº†çŠ¶æ…‹ã€‚Phase 1 (Room Status + Health) å®Ÿè£…å®Œäº†ã€‚*
